---
topic: 分治法
date: 2017/10/22
labels: 递归，分治，分解，合并
---
###分治法
许多有用的算法在结构上是递归的：为了解决一个给定的问题，算法一次或多次递归地调用其自身以解决紧密相关的若干子问题。

这些算法典型地遵循分治法的思想：将原问题分解为几个规模较小但类似于原问题的子问题，递归地求解这些子问题，递归地解决这些子问题，然后再合并这些子问题的解来建立原问题的解。

###分治模式的三个步骤
1. **分解**原问题为若干子问题，这些子问题是原问题的规模较小的实例。
2. **解决**这些子问题，递归地求解各子问题。然而，若子问题的规模较小，直接求解。
3. **合并**这些子问题的解成原问题的解。

我们来看看归并排序算法所遵循的分治模式：
1. 分解：分解待排序的n个元素的序列成各具n/2个元素的两个子序列。
2. 解决：使用归并排序递归地排序两个子序列。
3. 合并：合并两个已排序的子序列以产生已排序的答案。

```
//A是一个数组，p、q和r是数组下标，满足p<=q<r,默认子数组A[p..q]和A[q+1..r]都已排好序
MERGE(A,p,q,r)
1 n1=q-p+1
2 n2=r-q
3 let L[1..n1+1] and R[1..n2+1] be new arrays
4 for i =1 to n1
5    L[i]=A[p+1-1]
6 for j =1 to n2
7    R[j]=A[q+j]
//哨兵
8 L[n1+1]=infinity
9 R[n2+1]=infinity
10 i=1
11 j=1
12 for k = p to r
13  if L[i]<=R[j]
14     A[k]=L[i]
15     i = i+1
16  else A[k]=R[j]
17       j=j+1
```

```
MERGE-SORT(A,p,r)
1 if p < r
2    q=[(p+r)/2]
3    MERGE-SORT(A,p,q)
4    MERGE-SORT(A,q+1,r)
5    MERGE(A,p,q,r)
```
